<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="todolist.css">
  <title>To Do List - Trianto Studio</title>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <a class="logo" href="Trianto_studio.html" style="cursor: pointer; text-decoration: none;">Trianto Studio</a>
      <nav class="navbar">
        <a href="Trianto_studio.html" class="nav-link">Home</a>
        <a href="portfolio.html" class="nav-link">Portfolio</a>
        <a href="#services" class="nav-link">Services</a>
        <a href="#about" class="nav-link">About Me</a>
        <a href="#contact" class="nav-link">Contact</a>
      </nav>
    </header>

    <!-- To Do List Section -->
    <main class="todo-wrapper">
      <section class="todo-section">
        <h1 class="todo-title">My To-Do List</h1>

        <!-- Input Task Form -->
        <div class="input-task">
          <input type="text" id="taskInput" placeholder="Enter new task" />
          <button class="btn add-btn" onclick="addTask()">Add Task</button>
        </div>

        <!-- Task List -->
        <ul id="taskList" class="task-list">
          <!-- Task items will be dynamically rendered here -->
        </ul>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>Â© 2024 Trianto Studio by Faizal Qadri Trianto</p>
    </footer>
  </div>

  <script>
    let tasks = [];

    // Add Task
    function addTask() {
      const taskInput = document.getElementById('taskInput');
      const taskText = taskInput.value.trim();
      if (taskText === '') return; // Prevent adding empty tasks
      tasks.push({ text: taskText, done: false });
      taskInput.value = '';
      renderTasks();
    }

    // Render tasks
    function renderTasks() {
      const taskList = document.getElementById('taskList');
      taskList.innerHTML = ''; // Clear current tasks

      tasks.forEach((task, index) => {
        const taskItem = document.createElement('li');
        taskItem.className = task.done ? 'task-item done' : 'task-item';

        // Task text (editable)
        const taskText = document.createElement('input');
        taskText.type = 'text';
        taskText.value = task.text;
        taskText.className = 'task-text';
        taskText.setAttribute('readonly', true); // Read-only by default
        taskText.addEventListener('dblclick', () => editTask(taskText)); // Double-click to edit
        taskText.addEventListener('blur', () => finishEdit(taskText, index)); // Blur to save

        taskItem.appendChild(taskText);

        // Mark as Done button
        const doneButton = document.createElement('button');
        doneButton.textContent = task.done ? 'Undo' : 'Done';
        doneButton.className = 'btn done-btn';
        doneButton.onclick = () => toggleDone(index);
        taskItem.appendChild(doneButton);

        // Delete button
        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'Delete';
        deleteButton.className = 'btn delete-btn';
        deleteButton.onclick = () => deleteTask(index);
        taskItem.appendChild(deleteButton);

        taskList.appendChild(taskItem);
      });
    }

    // Edit Task (double-click)
    function editTask(taskText) {
      taskText.removeAttribute('readonly'); // Make the input editable
      taskText.focus(); // Focus on the input for editing
      taskText.classList.add('editing');
    }

    // Finish Edit (when focus is lost)
    function finishEdit(taskText, index) {
      taskText.setAttribute('readonly', true); // Make the input readonly again
      taskText.classList.remove('editing');
      tasks[index].text = taskText.value; // Update the task text
    }

    // Mark Task as Done / Undo
    function toggleDone(index) {
      tasks[index].done = !tasks[index].done;
      renderTasks();
    }

    // Delete Task
    function deleteTask(index) {
      tasks.splice(index, 1);
      renderTasks();
    }
  </script>
</body>
</html>
